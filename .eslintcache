[{"C:\\Users\\henri\\Documents\\TCC\\Exception\\src\\index.js":"1","C:\\Users\\henri\\Documents\\TCC\\Exception\\src\\components\\Login.js":"2","C:\\Users\\henri\\Documents\\TCC\\Exception\\src\\components\\Recomendacao.js":"3","C:\\Users\\henri\\Documents\\TCC\\Exception\\src\\components\\Home.js":"4","C:\\Users\\henri\\Documents\\TCC\\Exception\\src\\components\\MapContainer.js":"5","C:\\Users\\henri\\Documents\\TCC\\Exception\\src\\components\\Auth.js":"6","C:\\Users\\henri\\Documents\\TCC\\Exception\\src\\components\\firestore.js":"7"},{"size":581,"mtime":1612899863404,"results":"8","hashOfConfig":"9"},{"size":5401,"mtime":1612897987986,"results":"10","hashOfConfig":"9"},{"size":17143,"mtime":1616532051363,"results":"11","hashOfConfig":"9"},{"size":13122,"mtime":1615831076686,"results":"12","hashOfConfig":"9"},{"size":9170,"mtime":1615745551356,"results":"13","hashOfConfig":"9"},{"size":613,"mtime":1612865355926,"results":"14","hashOfConfig":"9"},{"size":518,"mtime":1612865355929,"results":"15","hashOfConfig":"9"},{"filePath":"16","messages":"17","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"18"},"1afk5kw",{"filePath":"19","messages":"20","errorCount":0,"warningCount":7,"fixableErrorCount":0,"fixableWarningCount":0,"source":"21","usedDeprecatedRules":"18"},{"filePath":"22","messages":"23","errorCount":0,"warningCount":26,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"24","messages":"25","errorCount":0,"warningCount":13,"fixableErrorCount":0,"fixableWarningCount":0,"source":"26","usedDeprecatedRules":"18"},{"filePath":"27","messages":"28","errorCount":0,"warningCount":13,"fixableErrorCount":0,"fixableWarningCount":1,"source":"29","usedDeprecatedRules":"18"},{"filePath":"30","messages":"31","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"18"},{"filePath":"32","messages":"33","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"18"},"C:\\Users\\henri\\Documents\\TCC\\Exception\\src\\index.js",[],["34","35"],"C:\\Users\\henri\\Documents\\TCC\\Exception\\src\\components\\Login.js",["36","37","38","39","40","41","42"],"import \"../layouts/Login.css\";\r\nimport React, {Component} from 'react';\r\nimport Authentication from './Auth';\r\nimport $ from 'jquery';\r\nimport Swal from 'sweetalert2';\r\n\r\n\r\nexport default class extends Component{\r\n    \r\n\r\n    constructor(){\r\n        super();\r\n        \r\n        this.state = {\r\n          email: \"\",\r\n          password:\"\"\r\n        };\r\n        this.handleChange = this.handleChange.bind(this);\r\n        this.handleLogin =  this.handleLogin.bind(this);\r\n        this.handleSignUp = this.handleSignUp.bind(this);\r\n        this.escolha = this.escolha.bind(this);\r\n    }\r\n\r\n    escolha(controle){\r\n        if(controle === 0){\r\n            $(\".login_botoes_cadastro\").css(\"color\", \"#410A78\");\r\n            $(\".login_botoes_cadastro\").css(\"background-color\", \"white\");\r\n            $(\".login_botoes_login\").css(\"color\", \"white\");\r\n            $(\".login_botoes_login\").css(\"background-color\", \"#410A78\");\r\n            $(\".cadastro_button\").show();\r\n            $(\".login_button\").hide();\r\n        }\r\n        else if(controle === 1){\r\n            $(\".login_botoes_login\").css(\"color\", \"#410A78\");\r\n            $(\".login_botoes_login\").css(\"background-color\", \"white\");\r\n            $(\".login_botoes_cadastro\").css(\"color\", \"white\");\r\n            $(\".login_botoes_cadastro\").css(\"background-color\", \"#410A78\");\r\n            $(\".login_button\").show();\r\n            $(\".cadastro_button\").hide();\r\n        }\r\n    }\r\n    \r\n\r\n\r\n    handleChange = (e) =>{this.setState({value: e.target.value})}\r\n\r\n    handleLogin(){\r\n        Authentication.auth().signInWithEmailAndPassword(this.state.email, this.state.password).then((user) => {\r\n            this.props.history.push(\"/home\");\r\n        }).catch((err) =>{\r\n            switch(err.code){\r\n                case \"auth/invalid-email\":\r\n                    Swal.fire({\r\n                        icon: 'error',\r\n                        title: 'Email inválido',\r\n                        text: 'O email digitado está incorreto!'\r\n                      })\r\n                case \"auth/user-disabled\":\r\n                case \"auth/user-not-found\":\r\n                    Swal.fire({\r\n                        icon: 'error',\r\n                        title: 'Usuário não encontrado!',\r\n                        text: 'O usuário não foi encontrado, talvez você não tenha se cadastrado ainda em nosso sistema?'\r\n                      })\r\n                case \"auth/wrong_password\":\r\n                    Swal.fire({\r\n                        icon: 'error',\r\n                        title: 'Email ou senha incorretos',\r\n                        text: 'Digite novamente suas informações!'\r\n                      })\r\n            }\r\n        })\r\n    }\r\n\r\n    handleSignUp(){\r\n        Authentication.auth().createUserWithEmailAndPassword(this.state.email, this.state.password).then((user) => {\r\n            Swal.fire({\r\n                icon: 'success',\r\n                title: 'Usuário Cadastrado!!!',\r\n                text: 'Seja bem vindo a nossa plataforma',\r\n                confirmButtonText: 'Avançar',\r\n                confirmButtonColor: '#410A78'\r\n              }).then(() => {\r\n                this.props.history.push(\"/\");\r\n                this.handleLogin();\r\n\r\n              })\r\n            }).catch((err) =>{\r\n            switch(err.code){\r\n                case \"auth/email-already-in-use\":\r\n                    Swal.fire({\r\n                        icon: 'error',\r\n                        title: 'O email escolhido já está em uso!',\r\n                        text: 'Tente se conectar a nossa plataforma por um outro email'\r\n                      })\r\n                case \"auth/invalid-email\":\r\n                    Swal.fire({\r\n                        icon: 'error',\r\n                        title: 'Email inválido!',\r\n                        text: 'Por favor, utilize um email válido para que possamos concluir seu cadastro'\r\n                      })\r\n                case \"auth/weak_password\":\r\n            }\r\n        })\r\n    }\r\n\r\n\r\n    componentDidMount(){\r\n        localStorage.setItem('preferencias', \"ambos\");\r\n        localStorage.setItem(\"coord_res_lat\", 0);\r\n        localStorage.setItem(\"coord_res_lng\", 0);\r\n        localStorage.setItem(\"controlador_rec\", 0);\r\n        console.log(localStorage.getItem('preferencias'))\r\n    }\r\n\r\n\r\n    render(){\r\n        return(\r\n            <div className=\"container_all_login\">\r\n                <div className=\"container_box_login\">\r\n                    <div className=\"login_botoes\">\r\n                        <button className=\"login_botoes_cadastro\" onClick={() => this.escolha(0)}>Cadastro</button>\r\n                        <button className=\"login_botoes_login\" onClick={() => this.escolha(1)}>Login</button>\r\n                    </div>\r\n                    <div className=\"container_login_info\">\r\n                        <h1>Email</h1>\r\n                        <input type=\"text\" onChange={(e) => {this.setState({email: e.target.value })}}/>\r\n                        <h1>Senha</h1>\r\n                        <input type=\"password\" onChange={(e) => {this.setState({password: e.target.value })}}/>\r\n                    </div>\r\n                    <button className=\"login_button\" onClick={() => this.handleLogin()}>Login</button>\r\n                    <button className=\"cadastro_button\" onClick={() => this.handleSignUp()}>Sign Up</button>\r\n                </div>\r\n            </div>\r\n        );\r\n    }\r\n}","C:\\Users\\henri\\Documents\\TCC\\Exception\\src\\components\\Recomendacao.js",["43","44","45","46","47","48","49","50","51","52","53","54","55","56","57","58","59","60","61","62","63","64","65","66","67","68"],"C:\\Users\\henri\\Documents\\TCC\\Exception\\src\\components\\Home.js",["69","70","71","72","73","74","75","76","77","78","79","80","81"],"import React, { Component } from 'react';\r\nimport \"../layouts/Home.css\";\r\nimport MapContainer from \"./MapContainer\";\r\nimport firebase from \"firebase/app\";\r\nimport Swal from 'sweetalert2';\r\nimport $ from 'jquery';\r\nimport Autocomplete from 'react-autocomplete';\r\nimport { Navbar, NavDropdown, Form, FormControl, Button, Nav } from 'react-bootstrap';\r\nimport 'bootstrap/dist/css/bootstrap.min.css';\r\nimport { NavLink } from 'react-router-dom';\r\n\r\n\r\nexport default class Home extends Component {\r\n\r\n    constructor() {\r\n        super();\r\n\r\n        this.state = {\r\n            value: \"\",\r\n            nomes: [],\r\n            restaurantes: {},\r\n            nota: {}\r\n        };\r\n        this.handleChange = this.handleChange.bind(this);\r\n        this.centralizar = this.centralizar.bind(this);\r\n        this.randomizar = this.randomizar.bind(this);\r\n    }\r\n\r\n    handleChange = (e) => { this.setState({ value: e.target.value }) }\r\n\r\n    randomizar(){\r\n        console.log(\"entrou random\")\r\n        firebase.firestore().collection(\"Users\").doc(firebase.auth().currentUser.uid).get().then((dados) =>{\r\n            if(dados.exists){\r\n              this.setState({nota: dados.data().Notas});\r\n            }\r\n            else{\r\n              this.setState({nota: {} });\r\n            }\r\n        })\r\n        var single= this.state.nota;\r\n        for(var i = 0; i<=29 ;i++){\r\n            single[Math.floor(Math.random() * 54)] = Math.floor(Math.random() * 5) + 1;\r\n        }\r\n        this.setState({nota: single});\r\n        firebase.firestore().collection(\"Users\").doc(firebase.auth().currentUser.uid).set({\r\n          Notas: this.state.nota\r\n        })\r\n        console.log(firebase.auth().currentUser.uid);\r\n\r\n    }\r\n\r\n\r\n    centralizar(restaurante) {\r\n        console.log(restaurante);\r\n        console.log(restaurante.Latitude);\r\n        console.log(restaurante.Longitude);\r\n        localStorage.setItem(\"coord_res_lat\", restaurante.Latitude);\r\n        localStorage.setItem(\"coord_res_lng\", restaurante.Longitude);\r\n        localStorage.setItem(\"controlador_rec\", 1);\r\n        console.log(localStorage.getItem(\"coord_res_lat\"));\r\n        console.log(localStorage.getItem(\"coord_res_lng\"));\r\n        console.log(localStorage.getItem(\"controlador_rec\"));\r\n        window.location.reload();\r\n    }\r\n\r\n    componentDidMount() {\r\n        $(\"body\").css(\"overflow\", \"hidden\");\r\n        firebase.auth().onAuthStateChanged((user) => {\r\n            if (user) {\r\n\r\n            } else {\r\n                Swal.fire({\r\n                    icon: 'error',\r\n                    title: 'Nenhum usuário conectado!!!',\r\n                    text: 'Você será redirecionado a página de login',\r\n                }).then(\r\n                    this.props.history.push(\"/\")\r\n                );\r\n            }\r\n        })\r\n        var list = {};\r\n        var ad = [];\r\n        if (localStorage.getItem(\"preferencias\") == \"lactose\") {\r\n            firebase.firestore().collection(\"Restaurantes\").where(\"LactoseFO\", \"==\", true).get().then((querySnapshot) => {\r\n                querySnapshot.forEach((doc) => {\r\n                    // doc.data() is never undefined for query doc snapshots\r\n                    {\r\n                        list[doc.data().Nome] = doc.data();\r\n                        ad.push({ label: doc.data().Nome });\r\n                    }\r\n                });\r\n                this.setState({ nomes: ad });\r\n                this.setState({ restaurantes: list });\r\n                \r\n\r\n                console.log(this.state.restaurantes);\r\n            })\r\n        }\r\n        else {\r\n            if (localStorage.getItem(\"preferencias\") == \"gluten\") {\r\n                firebase.firestore().collection(\"Restaurantes\").where(\"GlutenFO\", \"==\", true).get().then((querySnapshot) => {\r\n                    querySnapshot.forEach((doc) => {\r\n                        list[doc.data().Nome] = doc.data();\r\n                        ad.push({ label: doc.data().Nome });\r\n                    });\r\n                    this.setState({ nomes: ad });\r\n                    this.setState({ restaurantes: list });\r\n\r\n                    console.log(this.state.restaurantes);\r\n                })\r\n            }\r\n            else {\r\n                if (localStorage.getItem(\"preferencias\") == \"ambos\") {\r\n                    firebase.firestore().collection(\"Restaurantes\").where(\"Id\", \">=\", 0).get().then((querySnapshot) => {\r\n                        querySnapshot.forEach((doc) => {\r\n                            list[doc.data().Nome] = doc.data();\r\n                            ad.push({ label: doc.data().Nome });\r\n                        });\r\n                        this.setState({ nomes: ad });\r\n                        this.setState({ restaurantes: list });\r\n\r\n                        console.log(this.state.restaurantes);\r\n                    })\r\n                }\r\n            }\r\n        }\r\n\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <div className=\"container_all_homepage\">\r\n                <div>\r\n                <Navbar id=\"menu_nav\"  expand=\"md\">\r\n                    <Navbar.Brand id=\"brand\" href=\"\">Exception</Navbar.Brand>\r\n                    <Navbar.Toggle aria-controls=\"basic-navbar-nav\" />\r\n                    <Navbar.Collapse id=\"basic-navbar-nav\">\r\n                        <Nav className=\"mr-auto\">\r\n                            <Nav.Link id=\"item\" href=\"/home\">Home</Nav.Link>\r\n                            <Nav.Link id=\"item\" onClick={() => {\r\n                                Swal.fire({\r\n                                    icon: 'info',\r\n                                    title: 'Quer saber um lugar que tenha opções de alimentação para alérgicos a:',\r\n                                    input: 'select',\r\n                                    inputOptions: {\r\n                                        'Alergias': {\r\n                                            lactose: 'Lactose',\r\n                                            gluten: 'Glúten',\r\n                                            ambos: 'Nenhuma das opções'\r\n                                        }\r\n                                    },\r\n                                    inputPlaceholder: 'Selecione uma alergia',\r\n                                    showCancelButton: true,\r\n                                }).then((resposta) => {\r\n                                    console.log(resposta);\r\n                                    if (resposta.value == \"lactose\") {\r\n                                        console.log(\"entrou lactose\");\r\n                                        localStorage.setItem(\"preferencias\", resposta.value);\r\n                                        window.location.reload();\r\n                                    }\r\n                                    else {\r\n                                        if (resposta.value == \"gluten\") {\r\n                                            console.log(\"entrou gluten\");\r\n                                            localStorage.setItem(\"preferencias\", resposta.value);\r\n                                            window.location.reload();\r\n                                        }\r\n                                        else {\r\n                                            if (resposta.value == \"ambos\") {\r\n                                                console.log(\"entrou ambos\");\r\n                                                localStorage.setItem(\"preferencias\", resposta.value);\r\n                                                window.location.reload();\r\n                                            }\r\n                                        }\r\n                                    }\r\n                                })\r\n                            }}>Preferências</Nav.Link>\r\n                            <Nav.Link id=\"item\" href=\"/recomendacao\">Recomendações</Nav.Link>\r\n                            {//<Nav.Link onClick={() => this\\.randomizar()}>Randomizar</Nav.Link>\r\n                            }\r\n                        </Nav>\r\n                        <button id=\"botao_sair\" onClick={() => {\r\n                        firebase.auth().signOut().then(() => {\r\n                            this.props.history.push(\"/\");\r\n                        }).catch((error) => {\r\n                            Swal.fire({\r\n                                icon: 'error',\r\n                                title: 'Ocorreu algum erro!'\r\n                            })\r\n                        })\r\n                    }}>Sair</button>\r\n                    </Navbar.Collapse>\r\n                </Navbar>\r\n                <div className=\"searchbar\">\r\n                    <Autocomplete\r\n                        getItemValue={(item) => item.label}\r\n                        items={this.state.nomes}\r\n                        shouldItemRender={(item, value) => item.label.toLowerCase().indexOf(value.toLowerCase()) > -1}\r\n                        getItemValue={item => item.label}\r\n                        renderItem={(item, highlighted) =>\r\n                            <div\r\n                                key={item.id}\r\n                                style={{ backgroundColor: highlighted ? '#eee' : 'transparent' }}\r\n                            >\r\n                                {item.label}\r\n                            </div>\r\n                        }\r\n                        value={this.state.value}\r\n                        onChange={(e) => this.setState({ value: e.target.value })}\r\n                        onSelect={(value) => {\r\n                            this.setState({ value: value });\r\n                            localStorage.setItem(\"busca\", value);\r\n                            console.log(value);\r\n                            //console.log(this.state.restaurantes[value]);\r\n                            this.centralizar(this.state.restaurantes[value]);\r\n\r\n                        }}\r\n                    />\r\n                </div>\r\n                </div>\r\n                {/**<div className=\"container_menu_homepage\">\r\n                    <div className=\"Botoes_menu\">\r\n                        <button onClick={() => { window.location.reload() }}>Home</button>\r\n                        <button onClick={() => {\r\n                            Swal.fire({\r\n                                icon: 'info',\r\n                                title: 'Quer saber um lugar que tenha opções de alimentação para alérgicos a:',\r\n                                input: 'select',\r\n                                inputOptions: {\r\n                                    'Alergias': {\r\n                                        lactose: 'Lactose',\r\n                                        gluten: 'Glúten',\r\n                                        ambos: 'Nenhuma das opções'\r\n                                    }\r\n                                },\r\n                                inputPlaceholder: 'Selecione uma alergia',\r\n                                showCancelButton: true,\r\n                            }).then((resposta) => {\r\n                                console.log(resposta);\r\n                                if (resposta.value == \"lactose\") {\r\n                                    console.log(\"entrou lactose\");\r\n                                    localStorage.setItem(\"preferencias\", resposta.value);\r\n                                    window.location.reload();\r\n                                }\r\n                                else {\r\n                                    if (resposta.value == \"gluten\") {\r\n                                        console.log(\"entrou gluten\");\r\n                                        localStorage.setItem(\"preferencias\", resposta.value);\r\n                                        window.location.reload();\r\n                                    }\r\n                                    else {\r\n                                        if (resposta.value == \"ambos\") {\r\n                                            console.log(\"entrou ambos\");\r\n                                            localStorage.setItem(\"preferencias\", resposta.value);\r\n                                            window.location.reload();\r\n                                        }\r\n                                    }\r\n                                }\r\n                            })\r\n                        }}>Preferências</button>\r\n                        <button onClick={() => { this.props.history.push(\"/recomendacao\") }}>Recomendações</button>\r\n                    </div>\r\n                    <button onClick={() => {\r\n                        firebase.auth().signOut().then(() => {\r\n                            this.props.history.push(\"/\");\r\n                        }).catch((error) => {\r\n                            Swal.fire({\r\n                                icon: 'error',\r\n                                title: 'Ocorreu algum erro!'\r\n                            })\r\n                        })\r\n                    }}>Sair</button>\r\n                </div>\r\n                **/}\r\n                \r\n                <div className=\"container_map_homepage\">\r\n                    <MapContainer />\r\n                </div>\r\n            </div>\r\n        )\r\n    }\r\n}","C:\\Users\\henri\\Documents\\TCC\\Exception\\src\\components\\MapContainer.js",["82","83","84","85","86","87","88","89","90","91","92","93","94"],"import React, {Component} from 'react';\r\nimport { Map, GoogleApiWrapper, Marker, InfoWindow} from 'google-maps-react';\r\nimport firebase from './firestore';\r\nimport Swal from 'sweetalert2';\r\nimport { error } from 'jquery';\r\n\r\n\r\n\r\nexport class MapContainer extends Component {\r\n  constructor(){\r\n    \r\n    super();\r\n    \r\n    this.state = {\r\n      lat: '',\r\n      lng: '',\r\n      rest: [],\r\n      lat: [],\r\n      lng: [],\r\n      pos: [],\r\n      nota:{},\r\n      zoom: 15,\r\n      activeMarker: {},\r\n      selectedPlace: {},\r\n      showingInfoWindow: false\r\n    };\r\n    this.displayMarkers= this.displayMarkers.bind(this);\r\n    this.onMarkerClick= this.onMarkerClick.bind(this);\r\n    this.onInfoWindowClose= this.onInfoWindowClose.bind(this);\r\n    this.onMapClicked= this.onMapClicked.bind(this);\r\n    this.centralizar= this.centralizar.bind(this);\r\n  }\r\n\r\n\r\n\r\n\r\n  onMarkerClick = (props, marker) =>\r\n  this.setState({\r\n    activeMarker: marker,\r\n    selectedPlace: props,\r\n    showingInfoWindow: true\r\n  });\r\n\r\n  onInfoWindowClose = () =>\r\n  this.setState({\r\n    activeMarker: null,\r\n    showingInfoWindow: false\r\n  });\r\n\r\n  onMapClicked = () => {\r\n  if (this.state.showingInfoWindow)\r\n    this.setState({\r\n      activeMarker: null,\r\n      showingInfoWindow: false\r\n    });\r\n};\r\n\r\n  displayMarkers = () => {\r\n    return this.state.pos.map((posit, index) => {\r\n      if(this.state.rest[index].Tipo == \"Restaurante\"){\r\n      return <Marker key={index} id={index} position={posit} icon={\"http://maps.google.com/mapfiles/ms/icons/blue-dot.png\"} title={this.state.rest[index].Nome} onClick={() => {\r\n        console.log(\"foi clicado\");\r\n        Swal.fire({\r\n          title: \"Classifique \"+ this.state.rest[index].Nome+ \"?\",\r\n          icon: \"question\",\r\n          input: 'range',\r\n          inputAttributes: {\r\n            min: 1,\r\n            max: 5,\r\n            step: 1\r\n          },\r\n          inputValue: 3,\r\n          cancelButtonText: 'Classificar',\r\n          cancelButtonColor: '#4CAF50',\r\n        }).then((result) => {\r\n          var aval= Number(result.value);\r\n          if(aval > 0 && aval < 6){\r\n            if(this.state.nota == {}){\r\n              var single= this.state.nota;\r\n              single[this.state.rest[index].Id]= aval;\r\n              this.setState({Nota: single});\r\n              firebase.firestore().collection(\"Users\").doc(firebase.auth().currentUser.uid).set({\r\n                Notas: this.state.nota\r\n              })\r\n            }\r\n            else{\r\n              var single= this.state.nota;\r\n              single[this.state.rest[index].Id] = aval;\r\n              this.setState({nota: single});\r\n              firebase.firestore().collection(\"Users\").doc(firebase.auth().currentUser.uid).set({\r\n                Notas: this.state.nota\r\n              })\r\n            }\r\n          }\r\n        })\r\n        \r\n      }}\r\n      \r\n      >\r\n          \r\n          <InfoWindow marker={this.state.activeMarker} onClose={this.onInfoWindowClose} visible={this.state.showingInfoWindow}>\r\n            <div>\r\n              <h1>{this.state.rest[index].Nome}</h1>\r\n            </div>\r\n          </InfoWindow>\r\n        </Marker>\r\n    }\r\n    else{\r\n      return <Marker key={index} id={index} position={posit} icon={\"http://maps.google.com/mapfiles/ms/icons/purple-dot.png\"} title={this.state.rest[index].Nome} onClick={() => {\r\n        console.log(\"foi clicado\");\r\n        Swal.fire({\r\n          title: \"Classifique \"+ this.state.rest[index].Nome+ \"?\",\r\n          icon: \"question\",\r\n          input: 'range',\r\n          inputAttributes: {\r\n            min: 1,\r\n            max: 5,\r\n            step: 1\r\n          },\r\n          inputValue: 3,\r\n          cancelButtonText: 'Classificar',\r\n          cancelButtonColor: '#4CAF50',\r\n        }).then((result) => {\r\n          var aval= Number(result.value);\r\n          if(aval > 0 && aval < 6){\r\n            if(this.state.nota == {}){\r\n              var single= this.state.nota;\r\n              single[this.state.rest[index].Id]= aval;\r\n              this.setState({Nota: single});\r\n              firebase.firestore().collection(\"Users\").doc(firebase.auth().currentUser.uid).set({\r\n                Notas: this.state.nota\r\n              })\r\n            }\r\n            else{\r\n              var single= this.state.nota;\r\n              single[this.state.rest[index].Id] = aval;\r\n              this.setState({nota: single});\r\n              firebase.firestore().collection(\"Users\").doc(firebase.auth().currentUser.uid).set({\r\n                Notas: this.state.nota\r\n              })\r\n            }\r\n          }\r\n        })\r\n      }}>\r\n          \r\n          <InfoWindow position={posit} marker={this.state.activeMarker} onClose={this.onInfoWindowClose} visible={this.state.showingInfoWindow}>\r\n            <div>\r\n              <h1>{this.state.rest[index].Nome}</h1>\r\n            </div>\r\n          </InfoWindow>\r\n        </Marker>\r\n    }\r\n  })\r\n  }\r\n\r\n  centralizar = () => {\r\n    var options = {\r\n      enableHighAccuracy: true,\r\n      timeout: 5000\r\n    };\r\n    this.setState({zoom: 15});\r\n    if(localStorage.getItem(\"controlador_rec\") == 1){\r\n      this.setState({lat: localStorage.getItem(\"coord_res_lat\")});\r\n      this.setState({lng: localStorage.getItem(\"coord_res_lng\")});\r\n      localStorage.setItem(\"controlador_rec\", 0);\r\n      this.setState({zoom: 18});\r\n    }\r\n    else{\r\n      if(localStorage.getItem(\"controlador_rec\") == 0){\r\n        navigator.geolocation.getCurrentPosition((position) => {\r\n          this.setState({lat: position.coords.latitude});\r\n          this.setState({lng: position.coords.longitude});\r\n          console.log(position);\r\n        }, error, options);\r\n      }\r\n      else{\r\n        console.log(\"entrou\");\r\n        localStorage.setItem(\"controlador_rec\", 0);\r\n      }\r\n    }\r\n  }\r\n\r\n\r\n  componentDidMount(){\r\n    window.addEventListener(\"storage\",(() => {\r\n      console.log(localStorage.getItem(\"busca\"));\r\n    }).bind(this));\r\n    this.centralizar();\r\n    console.log(localStorage.getItem('preferencias'));\r\n    if(localStorage.getItem('preferencias') == \"lactose\"){\r\n    firebase.firestore().collection(\"Restaurantes\").where(\"LactoseFO\" , \"==\", true).get()\r\n    .then(querySnapshot => {\r\n      const data = querySnapshot.docs.map(doc => doc.data());\r\n      this.setState({ rest: data });\r\n      var positions= [];\r\n      for(var i=0; i<data.length; i++){\r\n        var myLatlng = {lat:data[i].Latitude , lng:data[i].Longitude};\r\n        positions.push(myLatlng);\r\n      }\r\n      this.setState({ pos: positions});\r\n      firebase.firestore().collection(\"Users\").doc(firebase.auth().currentUser.uid).get().then((dados) =>{\r\n        if(dados.exists){\r\n          this.setState({nota: dados.data().Notas});\r\n        }\r\n        else{\r\n          this.setState({nota: {} });\r\n        }\r\n      })\r\n      \r\n    });\r\n  }\r\n  else{\r\n    if(localStorage.getItem('preferencias') == \"gluten\"){\r\n      firebase.firestore().collection(\"Restaurantes\").where(\"GlutenFO\" , \"==\", true)\r\n      .get()\r\n      .then(querySnapshot => {\r\n        const data = querySnapshot.docs.map(doc => doc.data());\r\n        this.setState({ rest: data });\r\n        var positions= [];\r\n        for(var i=0; i<data.length; i++){\r\n          var myLatlng = {lat:data[i].Latitude , lng:data[i].Longitude};\r\n          positions.push(myLatlng);\r\n        }\r\n        this.setState({ pos: positions});\r\n        firebase.firestore().collection(\"Users\").doc(firebase.auth().currentUser.uid).get().then((dados) =>{\r\n          if(dados.exists){\r\n            this.setState({nota: dados.data().Notas});\r\n          }\r\n          else{\r\n            this.setState({nota: {} });\r\n          }\r\n        })\r\n        \r\n      });\r\n    }\r\n    else{\r\n      if(localStorage.getItem('preferencias') == \"ambos\"){\r\n        firebase.firestore().collection(\"Restaurantes\").where(\"Id\" , \">=\", 0)\r\n        .get()\r\n        .then(querySnapshot => {\r\n          const data = querySnapshot.docs.map(doc => doc.data());\r\n          this.setState({ rest: data });\r\n          var positions= [];\r\n          for(var i=0; i<data.length; i++){\r\n            var myLatlng = {lat:data[i].Latitude , lng:data[i].Longitude};\r\n            positions.push(myLatlng);\r\n          }\r\n          this.setState({ pos: positions});\r\n          firebase.firestore().collection(\"Users\").doc(firebase.auth().currentUser.uid).get().then((dados) =>{\r\n            if(dados.exists){\r\n              this.setState({nota: dados.data().Notas});\r\n            }\r\n            else{\r\n              this.setState({nota: {} });\r\n            }\r\n          })\r\n          \r\n        });\r\n      }\r\n    }\r\n  } \r\n  }\r\n\r\n  render() {\r\n    const styleMap= {\r\n      width: \"100%\",\r\n      height: \"92%\",\r\n    };\r\n    const position= { lat: this.state.lat, lng: this.state.lng };\r\n    const zoom= this.state.zoom;\r\n    return (\r\n      <Map\r\n        google={this.props.google}\r\n        zoom={zoom}\r\n        style={styleMap}\r\n        onClick={this.onMapClicked}\r\n        initialCenter={position}\r\n        center={position}\r\n      >\r\n      {this.displayMarkers()}\r\n      </Map>\r\n\r\n    );\r\n  }\r\n}\r\n\r\nexport default GoogleApiWrapper(\r\n  (props) => ({\r\n    apiKey: '',\r\n  }\r\n))(MapContainer)","C:\\Users\\henri\\Documents\\TCC\\Exception\\src\\components\\Auth.js",[],"C:\\Users\\henri\\Documents\\TCC\\Exception\\src\\components\\firestore.js",[],{"ruleId":"95","replacedBy":"96"},{"ruleId":"97","replacedBy":"98"},{"ruleId":"99","severity":1,"message":"100","line":8,"column":1,"nodeType":"101","endLine":137,"endColumn":2},{"ruleId":"102","severity":1,"message":"103","line":51,"column":13,"nodeType":"104","messageId":"105","endLine":71,"endColumn":14},{"ruleId":"106","severity":1,"message":"107","line":58,"column":17,"nodeType":"108","messageId":"109","endLine":58,"endColumn":43},{"ruleId":"106","severity":1,"message":"107","line":65,"column":17,"nodeType":"108","messageId":"109","endLine":70,"endColumn":25},{"ruleId":"102","severity":1,"message":"103","line":89,"column":13,"nodeType":"104","messageId":"105","endLine":103,"endColumn":14},{"ruleId":"106","severity":1,"message":"107","line":96,"column":17,"nodeType":"108","messageId":"109","endLine":101,"endColumn":25},{"ruleId":"106","severity":1,"message":"107","line":102,"column":17,"nodeType":"108","messageId":"109","endLine":102,"endColumn":43},{"ruleId":"110","severity":1,"message":"111","line":6,"column":18,"nodeType":"112","messageId":"113","endLine":6,"endColumn":29},{"ruleId":"110","severity":1,"message":"114","line":6,"column":31,"nodeType":"112","messageId":"113","endLine":6,"endColumn":35},{"ruleId":"110","severity":1,"message":"115","line":6,"column":37,"nodeType":"112","messageId":"113","endLine":6,"endColumn":48},{"ruleId":"110","severity":1,"message":"116","line":6,"column":50,"nodeType":"112","messageId":"113","endLine":6,"endColumn":56},{"ruleId":"117","severity":1,"message":"118","line":54,"column":13,"nodeType":"112","messageId":"119","endLine":54,"endColumn":17},{"ruleId":"117","severity":1,"message":"118","line":55,"column":16,"nodeType":"112","messageId":"119","endLine":55,"endColumn":20},{"ruleId":"117","severity":1,"message":"118","line":56,"column":27,"nodeType":"112","messageId":"119","endLine":56,"endColumn":31},{"ruleId":"120","severity":1,"message":"121","line":60,"column":26,"nodeType":"122","messageId":"123","endLine":60,"endColumn":28},{"ruleId":"120","severity":1,"message":"121","line":79,"column":24,"nodeType":"122","messageId":"123","endLine":79,"endColumn":26},{"ruleId":"120","severity":1,"message":"124","line":91,"column":23,"nodeType":"122","messageId":"123","endLine":91,"endColumn":25},{"ruleId":"120","severity":1,"message":"121","line":130,"column":71,"nodeType":"122","messageId":"123","endLine":130,"endColumn":73},{"ruleId":"125","severity":1,"message":"126","line":145,"column":21,"nodeType":"112","messageId":"127","endLine":145,"endColumn":25},{"ruleId":"102","severity":1,"message":"103","line":154,"column":33,"nodeType":"104","messageId":"105","endLine":188,"endColumn":34},{"ruleId":"102","severity":1,"message":"103","line":156,"column":41,"nodeType":"104","messageId":"105","endLine":170,"endColumn":42},{"ruleId":"102","severity":1,"message":"103","line":173,"column":41,"nodeType":"104","messageId":"105","endLine":186,"endColumn":42},{"ruleId":"120","severity":1,"message":"121","line":205,"column":53,"nodeType":"122","messageId":"123","endLine":205,"endColumn":55},{"ruleId":"120","severity":1,"message":"121","line":217,"column":57,"nodeType":"122","messageId":"123","endLine":217,"endColumn":59},{"ruleId":"120","severity":1,"message":"121","line":229,"column":61,"nodeType":"122","messageId":"123","endLine":229,"endColumn":63},{"ruleId":"128","severity":1,"message":"129","line":257,"column":13,"nodeType":"130","endLine":257,"endColumn":23},{"ruleId":"128","severity":1,"message":"129","line":277,"column":17,"nodeType":"130","endLine":277,"endColumn":37},{"ruleId":"128","severity":1,"message":"129","line":278,"column":17,"nodeType":"130","endLine":278,"endColumn":38},{"ruleId":"128","severity":1,"message":"129","line":279,"column":17,"nodeType":"130","endLine":279,"endColumn":33},{"ruleId":"120","severity":1,"message":"121","line":325,"column":56,"nodeType":"122","messageId":"123","endLine":325,"endColumn":58},{"ruleId":"120","severity":1,"message":"121","line":331,"column":60,"nodeType":"122","messageId":"123","endLine":331,"endColumn":62},{"ruleId":"120","severity":1,"message":"121","line":337,"column":64,"nodeType":"122","messageId":"123","endLine":337,"endColumn":66},{"ruleId":"131","severity":1,"message":"132","line":361,"column":84,"nodeType":"133","messageId":"134","endLine":361,"endColumn":86},{"ruleId":"110","severity":1,"message":"111","line":8,"column":18,"nodeType":"112","messageId":"113","endLine":8,"endColumn":29},{"ruleId":"110","severity":1,"message":"114","line":8,"column":31,"nodeType":"112","messageId":"113","endLine":8,"endColumn":35},{"ruleId":"110","severity":1,"message":"115","line":8,"column":37,"nodeType":"112","messageId":"113","endLine":8,"endColumn":48},{"ruleId":"110","severity":1,"message":"116","line":8,"column":50,"nodeType":"112","messageId":"113","endLine":8,"endColumn":56},{"ruleId":"110","severity":1,"message":"135","line":10,"column":10,"nodeType":"112","messageId":"113","endLine":10,"endColumn":17},{"ruleId":"120","severity":1,"message":"121","line":84,"column":50,"nodeType":"122","messageId":"123","endLine":84,"endColumn":52},{"ruleId":"136","severity":1,"message":"137","line":88,"column":21,"nodeType":"138","messageId":"139","endLine":91,"endColumn":22},{"ruleId":"120","severity":1,"message":"121","line":101,"column":54,"nodeType":"122","messageId":"123","endLine":101,"endColumn":56},{"ruleId":"120","severity":1,"message":"121","line":114,"column":58,"nodeType":"122","messageId":"123","endLine":114,"endColumn":60},{"ruleId":"120","severity":1,"message":"121","line":157,"column":56,"nodeType":"122","messageId":"123","endLine":157,"endColumn":58},{"ruleId":"120","severity":1,"message":"121","line":163,"column":60,"nodeType":"122","messageId":"123","endLine":163,"endColumn":62},{"ruleId":"120","severity":1,"message":"121","line":169,"column":64,"nodeType":"122","messageId":"123","endLine":169,"endColumn":66},{"ruleId":"140","severity":1,"message":"141","line":199,"column":25,"nodeType":"142","endLine":199,"endColumn":58},{"ruleId":"143","severity":1,"message":"144","line":18,"column":7,"nodeType":"145","messageId":"123","endLine":18,"endColumn":10},{"ruleId":"143","severity":1,"message":"146","line":19,"column":7,"nodeType":"145","messageId":"123","endLine":19,"endColumn":10},{"ruleId":"120","severity":1,"message":"121","line":60,"column":38,"nodeType":"122","messageId":"123","endLine":60,"endColumn":40},{"ruleId":"120","severity":1,"message":"121","line":78,"column":32,"nodeType":"122","messageId":"123","endLine":78,"endColumn":34},{"ruleId":"125","severity":1,"message":"147","line":87,"column":19,"nodeType":"112","messageId":"127","endLine":87,"endColumn":25},{"ruleId":"120","severity":1,"message":"121","line":126,"column":32,"nodeType":"122","messageId":"123","endLine":126,"endColumn":34},{"ruleId":"125","severity":1,"message":"147","line":135,"column":19,"nodeType":"112","messageId":"127","endLine":135,"endColumn":25},{"ruleId":"120","severity":1,"message":"121","line":162,"column":48,"nodeType":"122","messageId":"123","endLine":162,"endColumn":50},{"ruleId":"120","severity":1,"message":"121","line":169,"column":50,"nodeType":"122","messageId":"123","endLine":169,"endColumn":52},{"ruleId":"148","severity":1,"message":"149","line":187,"column":8,"nodeType":"150","messageId":"123","endLine":187,"endColumn":12,"fix":"151"},{"ruleId":"120","severity":1,"message":"121","line":190,"column":45,"nodeType":"122","messageId":"123","endLine":190,"endColumn":47},{"ruleId":"120","severity":1,"message":"121","line":213,"column":45,"nodeType":"122","messageId":"123","endLine":213,"endColumn":47},{"ruleId":"120","severity":1,"message":"121","line":237,"column":47,"nodeType":"122","messageId":"123","endLine":237,"endColumn":49},"no-native-reassign",["152"],"no-negated-in-lhs",["153"],"import/no-anonymous-default-export","Unexpected default export of anonymous class","ExportDefaultDeclaration","default-case","Expected a default case.","SwitchStatement","missingDefaultCase","no-fallthrough","Expected a 'break' statement before 'case'.","SwitchCase","case","no-unused-vars","'NavDropdown' is defined but never used.","Identifier","unusedVar","'Form' is defined but never used.","'FormControl' is defined but never used.","'Button' is defined but never used.","no-use-before-define","'item' was used before it was defined.","usedBeforeDefined","eqeqeq","Expected '===' and instead saw '=='.","BinaryExpression","unexpected","Expected '!==' and instead saw '!='.","no-redeclare","'item' is already defined.","redeclared","react/no-direct-mutation-state","Do not mutate state directly. Use setState().","MemberExpression","array-callback-return","Array.prototype.map() expects a value to be returned at the end of arrow function.","ArrowFunctionExpression","expectedAtEnd","'NavLink' is defined but never used.","no-lone-blocks","Nested block is redundant.","BlockStatement","redundantNestedBlock","react/jsx-no-duplicate-props","No duplicate props allowed","JSXAttribute","no-dupe-keys","Duplicate key 'lat'.","ObjectExpression","Duplicate key 'lng'.","'single' is already defined.","no-extra-bind","The function binding is unnecessary.","CallExpression",{"range":"154","text":"155"},"no-global-assign","no-unsafe-negation",[5894,5905],""]
