[{"C:\\Users\\henri\\Documents\\TCC\\Exception\\src\\index.js":"1","C:\\Users\\henri\\Documents\\TCC\\Exception\\src\\components\\Login.js":"2","C:\\Users\\henri\\Documents\\TCC\\Exception\\src\\components\\Recomendacao.js":"3","C:\\Users\\henri\\Documents\\TCC\\Exception\\src\\components\\Home.js":"4","C:\\Users\\henri\\Documents\\TCC\\Exception\\src\\components\\MapContainer.js":"5","C:\\Users\\henri\\Documents\\TCC\\Exception\\src\\components\\Auth.js":"6","C:\\Users\\henri\\Documents\\TCC\\Exception\\src\\components\\firestore.js":"7"},{"size":581,"mtime":1612899863404,"results":"8","hashOfConfig":"9"},{"size":5401,"mtime":1612897987986,"results":"10","hashOfConfig":"9"},{"size":12622,"mtime":1612865355929,"results":"11","hashOfConfig":"9"},{"size":8455,"mtime":1613771111446,"results":"12","hashOfConfig":"9"},{"size":9170,"mtime":1612865355928,"results":"13","hashOfConfig":"9"},{"size":613,"mtime":1612865355926,"results":"14","hashOfConfig":"9"},{"size":518,"mtime":1612865355929,"results":"15","hashOfConfig":"9"},{"filePath":"16","messages":"17","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"18"},"1afk5kw",{"filePath":"19","messages":"20","errorCount":0,"warningCount":7,"fixableErrorCount":0,"fixableWarningCount":0,"source":"21","usedDeprecatedRules":"18"},{"filePath":"22","messages":"23","errorCount":0,"warningCount":14,"fixableErrorCount":0,"fixableWarningCount":0,"source":"24","usedDeprecatedRules":"18"},{"filePath":"25","messages":"26","errorCount":0,"warningCount":8,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"27","messages":"28","errorCount":0,"warningCount":13,"fixableErrorCount":0,"fixableWarningCount":1,"source":"29","usedDeprecatedRules":"18"},{"filePath":"30","messages":"31","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"18"},{"filePath":"32","messages":"33","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"18"},"C:\\Users\\henri\\Documents\\TCC\\Exception\\src\\index.js",[],["34","35"],"C:\\Users\\henri\\Documents\\TCC\\Exception\\src\\components\\Login.js",["36","37","38","39","40","41","42"],"import \"../layouts/Login.css\";\r\nimport React, {Component} from 'react';\r\nimport Authentication from './Auth';\r\nimport $ from 'jquery';\r\nimport Swal from 'sweetalert2';\r\n\r\n\r\nexport default class extends Component{\r\n    \r\n\r\n    constructor(){\r\n        super();\r\n        \r\n        this.state = {\r\n          email: \"\",\r\n          password:\"\"\r\n        };\r\n        this.handleChange = this.handleChange.bind(this);\r\n        this.handleLogin =  this.handleLogin.bind(this);\r\n        this.handleSignUp = this.handleSignUp.bind(this);\r\n        this.escolha = this.escolha.bind(this);\r\n    }\r\n\r\n    escolha(controle){\r\n        if(controle === 0){\r\n            $(\".login_botoes_cadastro\").css(\"color\", \"#410A78\");\r\n            $(\".login_botoes_cadastro\").css(\"background-color\", \"white\");\r\n            $(\".login_botoes_login\").css(\"color\", \"white\");\r\n            $(\".login_botoes_login\").css(\"background-color\", \"#410A78\");\r\n            $(\".cadastro_button\").show();\r\n            $(\".login_button\").hide();\r\n        }\r\n        else if(controle === 1){\r\n            $(\".login_botoes_login\").css(\"color\", \"#410A78\");\r\n            $(\".login_botoes_login\").css(\"background-color\", \"white\");\r\n            $(\".login_botoes_cadastro\").css(\"color\", \"white\");\r\n            $(\".login_botoes_cadastro\").css(\"background-color\", \"#410A78\");\r\n            $(\".login_button\").show();\r\n            $(\".cadastro_button\").hide();\r\n        }\r\n    }\r\n    \r\n\r\n\r\n    handleChange = (e) =>{this.setState({value: e.target.value})}\r\n\r\n    handleLogin(){\r\n        Authentication.auth().signInWithEmailAndPassword(this.state.email, this.state.password).then((user) => {\r\n            this.props.history.push(\"/home\");\r\n        }).catch((err) =>{\r\n            switch(err.code){\r\n                case \"auth/invalid-email\":\r\n                    Swal.fire({\r\n                        icon: 'error',\r\n                        title: 'Email inválido',\r\n                        text: 'O email digitado está incorreto!'\r\n                      })\r\n                case \"auth/user-disabled\":\r\n                case \"auth/user-not-found\":\r\n                    Swal.fire({\r\n                        icon: 'error',\r\n                        title: 'Usuário não encontrado!',\r\n                        text: 'O usuário não foi encontrado, talvez você não tenha se cadastrado ainda em nosso sistema?'\r\n                      })\r\n                case \"auth/wrong_password\":\r\n                    Swal.fire({\r\n                        icon: 'error',\r\n                        title: 'Email ou senha incorretos',\r\n                        text: 'Digite novamente suas informações!'\r\n                      })\r\n            }\r\n        })\r\n    }\r\n\r\n    handleSignUp(){\r\n        Authentication.auth().createUserWithEmailAndPassword(this.state.email, this.state.password).then((user) => {\r\n            Swal.fire({\r\n                icon: 'success',\r\n                title: 'Usuário Cadastrado!!!',\r\n                text: 'Seja bem vindo a nossa plataforma',\r\n                confirmButtonText: 'Avançar',\r\n                confirmButtonColor: '#410A78'\r\n              }).then(() => {\r\n                this.props.history.push(\"/\");\r\n                this.handleLogin();\r\n\r\n              })\r\n            }).catch((err) =>{\r\n            switch(err.code){\r\n                case \"auth/email-already-in-use\":\r\n                    Swal.fire({\r\n                        icon: 'error',\r\n                        title: 'O email escolhido já está em uso!',\r\n                        text: 'Tente se conectar a nossa plataforma por um outro email'\r\n                      })\r\n                case \"auth/invalid-email\":\r\n                    Swal.fire({\r\n                        icon: 'error',\r\n                        title: 'Email inválido!',\r\n                        text: 'Por favor, utilize um email válido para que possamos concluir seu cadastro'\r\n                      })\r\n                case \"auth/weak_password\":\r\n            }\r\n        })\r\n    }\r\n\r\n\r\n    componentDidMount(){\r\n        localStorage.setItem('preferencias', \"ambos\");\r\n        localStorage.setItem(\"coord_res_lat\", 0);\r\n        localStorage.setItem(\"coord_res_lng\", 0);\r\n        localStorage.setItem(\"controlador_rec\", 0);\r\n        console.log(localStorage.getItem('preferencias'))\r\n    }\r\n\r\n\r\n    render(){\r\n        return(\r\n            <div className=\"container_all_login\">\r\n                <div className=\"container_box_login\">\r\n                    <div className=\"login_botoes\">\r\n                        <button className=\"login_botoes_cadastro\" onClick={() => this.escolha(0)}>Cadastro</button>\r\n                        <button className=\"login_botoes_login\" onClick={() => this.escolha(1)}>Login</button>\r\n                    </div>\r\n                    <div className=\"container_login_info\">\r\n                        <h1>Email</h1>\r\n                        <input type=\"text\" onChange={(e) => {this.setState({email: e.target.value })}}/>\r\n                        <h1>Senha</h1>\r\n                        <input type=\"password\" onChange={(e) => {this.setState({password: e.target.value })}}/>\r\n                    </div>\r\n                    <button className=\"login_button\" onClick={() => this.handleLogin()}>Login</button>\r\n                    <button className=\"cadastro_button\" onClick={() => this.handleSignUp()}>Sign Up</button>\r\n                </div>\r\n            </div>\r\n        );\r\n    }\r\n}","C:\\Users\\henri\\Documents\\TCC\\Exception\\src\\components\\Recomendacao.js",["43","44","45","46","47","48","49","50","51","52","53","54","55","56"],"import React, {Component} from 'react';\r\nimport \"../layouts/Recomendacao.css\";\r\nimport firebase from './firestore';\r\nimport Swal from 'sweetalert2';\r\nimport $ from 'jquery';\r\n\r\n\r\n\r\n\r\nexport default class Recomendacao extends Component{\r\n\r\n    constructor(){\r\n        super();\r\n\r\n        this.state = {\r\n            avaliacoes:{},\r\n            ranking: [],\r\n            usuarios: 0,\r\n            recomendar: {},\r\n            rankitems: [],\r\n            hora: ''\r\n        };\r\n        this.handleChange = this.handleChange.bind(this);\r\n        this.pearson= this.pearson.bind(this);\r\n        this.rank= this.rank.bind(this);\r\n        this.recomendador= this.recomendador.bind(this);\r\n        this.botao_centralizar= this.botao_centralizar.bind(this);\r\n    }\r\n\r\n\r\n    handleChange = (e) =>{this.setState({value: e.target.value})}\r\n\r\n\r\n    pearson(dataset, p1, p2){\r\n        var existp1p2 = {};\r\n        for(item in dataset[p1]){\r\n            if(item in dataset[p2]){\r\n                existp1p2[item] = 1\r\n            }\r\n        }\r\n        var num_existence = Object.getOwnPropertyNames(existp1p2).length;\r\n        console.log(num_existence);\r\n        if(num_existence == 0){ \r\n            return 0;\r\n        }\r\n        var p1_sum=0,\r\n            p2_sum=0,\r\n            p1_sq_sum=0,\r\n            p2_sq_sum=0,\r\n            prod_p1p2 = 0;\r\n        for(var item in existp1p2){\r\n            p1_sum += dataset[p1][item];\r\n            p2_sum += dataset[p2][item];\r\n            p1_sq_sum += Math.pow(dataset[p1][item],2);\r\n            p2_sq_sum += Math.pow(dataset[p2][item],2);\r\n            prod_p1p2 += dataset[p1][item]*dataset[p2][item];\r\n        }\r\n        console.log(p1_sum);\r\n        console.log(p2_sum);\r\n        console.log(p1_sq_sum);\r\n        console.log(p2_sq_sum);\r\n        console.log(prod_p1p2);\r\n        var numerator =prod_p1p2 - (p1_sum*p2_sum/num_existence);\r\n        var st1 = p1_sq_sum - Math.pow(p1_sum,2)/num_existence;\r\n        var st2 = p2_sq_sum -Math.pow(p2_sum,2)/num_existence;\r\n        var denominator = Math.sqrt(st1*st2);\r\n        console.log(numerator);\r\n        console.log(st1);\r\n        console.log(st2);\r\n        console.log(denominator);\r\n        if(denominator ==0) return 0;\r\n        else {\r\n            var val = numerator / denominator;\r\n            return val;\r\n        }\r\n\r\n\r\n    }\r\n\r\n    rank(dataset,pessoa,users){\r\n        var scores=[];\r\n        for(var others in dataset){\r\n            if(others != pessoa){\r\n                var val = this.pearson(this.state.avaliacoes,pessoa,others);\r\n                var p = others;\r\n                scores.push({val:val,p:p});\r\n            }\r\n        }\r\n        console.log(scores);\r\n        scores.sort(function(a,b){\r\n            return b.val < a.val ? -1 : b.val > a.val ? 1 : b.val >= a.val ? 0 : NaN;\r\n        });\r\n        var score=[];\r\n        for(var i =0;i<users;i++){\r\n            score.push(scores[i]);\r\n        }\r\n        this.setState({ranking: score});\r\n    }\r\n\r\n    recomendador(dataset, person){\r\n        var totals = {\r\n            setDefault:function(props,value){\r\n                if(!this[props]){\r\n                    this[props] =0;\r\n                }\r\n                this[props] += value;\r\n            }\r\n        },\r\n        simsum = {\r\n            setDefault:function(props,value){\r\n                if(!this[props]){\r\n                    this[props] =0;\r\n                }\r\n                this[props] += value;\r\n            }\r\n        },\r\n        rank_lst =[];\r\n        for(var other in dataset){\r\n        if(other ===person) continue;\r\n        var similar = this.pearson(dataset,person,other);\r\n        if(similar <=0) continue;\r\n        for(var item in dataset[other]){\r\n            if(!(item in dataset[person]) ||(dataset[person][item]==0)){\r\n                //the setter help to make this look nice.\r\n                /*if(this.state.hora >= 11 && this.state.hora<=14  && this.state.avaliacoes){\r\n                    similar= similar * 0.8;\r\n                }\r\n                else{\r\n                    if(this.state.hora >14 && this.state.hora <= 19){\r\n                    \r\n                    }\r\n                }*/\r\n                console.log(this.state.avaliacoes[person][item]);\r\n                console.log(similar);\r\n                totals.setDefault(item,dataset[other][item]*similar);\r\n                simsum.setDefault(item,similar);                        \r\n            }\r\n        }\r\n        }\r\n        for(var item in totals){\r\n        //this what the setter function does\r\n        //so we have to find a way to avoid the function in the object    \r\n            if(typeof totals[item] !=\"function\"){\r\n                var val = totals[item] / simsum[item];\r\n                rank_lst.push({val:val,items:item});\r\n           }\r\n        }\r\n        rank_lst.sort(function(a,b){\r\n            return b.val < a.val ? -1 : b.val > a.val ? 1 : b.val >= a.val ? 0 : NaN;\r\n        });\r\n        var recommend = []; \r\n        for(var i in rank_lst){\r\n            recommend.push(rank_lst[i].items);\r\n        }\r\n        console.log([rank_lst,recommend]);\r\n        console.log(rank_lst);\r\n        console.log(recommend);\r\n        this.setState({rankitems: recommend})\r\n        var list= {};\r\n        if(localStorage.getItem(\"preferencias\") == \"lactose\"){\r\n        firebase.firestore().collection(\"Restaurantes\").where(\"LactoseFO\", \"==\", true).get().then((querySnapshot) => {\r\n            querySnapshot.forEach((doc) => {\r\n                // doc.data() is never undefined for query doc snapshots\r\n                var verify=String(doc.data().Id);\r\n                if(recommend.includes(verify)){\r\n                    list[doc.data().Id]= doc.data();\r\n                }\r\n            });\r\n        this.setState({recomendar: list});\r\n        })}\r\n        else{\r\n            if(localStorage.getItem(\"preferencias\") == \"gluten\"){\r\n                firebase.firestore().collection(\"Restaurantes\").where(\"GlutenFO\", \"==\", true).get().then((querySnapshot) => {\r\n                    querySnapshot.forEach((doc) => {\r\n                        // doc.data() is never undefined for query doc snapshots\r\n                        var verify=String(doc.data().Id);\r\n                        if(recommend.includes(verify)){\r\n                            list[doc.data().Id]= doc.data();\r\n                        }\r\n                    });\r\n                this.setState({recomendar: list});\r\n                })}\r\n            else{\r\n                if(localStorage.getItem(\"preferencias\") == \"ambos\"){\r\n                    firebase.firestore().collection(\"Restaurantes\").where(\"Id\", \">=\", 0).get().then((querySnapshot) => {\r\n                        querySnapshot.forEach((doc) => {\r\n                            // doc.data() is never undefined for query doc snapshots\r\n                            var verify=String(doc.data().Id);\r\n                            if(recommend.includes(verify)){\r\n                                list[doc.data().Id]= doc.data();\r\n                            }\r\n                        });\r\n                    this.setState({recomendar: list});\r\n                    })}\r\n            }\r\n        }\r\n    }\r\n\r\n    botao_centralizar(latitude, longitude){     //função pra setar as coordenadas do setcenter do maps\r\n        localStorage.setItem(\"coord_res_lat\", latitude);\r\n        localStorage.setItem(\"coord_res_lng\", longitude);\r\n        localStorage.setItem(\"controlador_rec\", 1);\r\n        console.log(localStorage.getItem(\"coord_res_lat\"));\r\n        console.log(localStorage.getItem(\"coord_res_lng\"));\r\n        console.log(localStorage.getItem(\"controlador_rec\"));\r\n        this.props.history.push(\"/home\");\r\n    }\r\n\r\n    componentDidMount(){\r\n        $(\"body\").css(\"overflow-y\", \"scroll\");\r\n        $(\".container_all_homepage\").css(\"height\",\"auto\");\r\n        firebase.auth().onAuthStateChanged((user) => {\r\n            if (user) {\r\n\r\n            } else {\r\n                Swal.fire({\r\n                    icon: 'error',\r\n                    title: 'Nenhum usuário conectado!!!',\r\n                    text:  'Você será redirecionado a página de login',\r\n                }).then(\r\n                    this.props.history.push(\"/\")\r\n                  );\r\n            }\r\n        });\r\n        var lista={};\r\n        this.setState({usuarios: 0});\r\n        firebase.firestore().collection(\"Users\").get().then((querySnapshot) => {\r\n            querySnapshot.forEach((doc) => {\r\n                // doc.data() is never undefined for query doc snapshots\r\n                lista[doc.id]=doc.data().Notas;\r\n                this.setState({usuarios: this.state.usuarios+1});\r\n            });\r\n            this.setState({avaliacoes: lista})\r\n            var date= new Date();\r\n            this.setState({hora: date.getHours()});\r\n            this.rank(this.state.avaliacoes, firebase.auth().currentUser.uid, this.state.usuarios-1);\r\n            this.recomendador(this.state.avaliacoes, firebase.auth().currentUser.uid);\r\n            console.log(this.state.recomendar);\r\n        });\r\n    }\r\n\r\n    render(){\r\n        return(\r\n            <div className=\"container_all_homepage\">\r\n                <div className=\"container_menu_homepage\">\r\n                    <div className=\"Botoes_menu\">\r\n                        <button onClick={() => {this.props.history.push(\"/home\")}}>Home</button>\r\n                        <button onClick={() =>{\r\n                             Swal.fire({\r\n                                icon: 'info',\r\n                                title: 'Quer saber um lugar que tenha opções de alimentação para alérgicos a:',\r\n                                input: 'select',\r\n                                inputOptions: {\r\n                                    'Alergias':{\r\n                                        lactose: 'Lactose',\r\n                                        gluten: 'Glúten',\r\n                                        ambos: 'Ambos'\r\n                                    }\r\n                                },\r\n                                inputPlaceholder: 'Selecione uma alergia',\r\n                                showCancelButton: true,\r\n                              }).then((resposta) =>{\r\n                                  console.log(resposta);\r\n                                  if(resposta.value == \"lactose\"){\r\n                                      console.log(\"entrou lactose\");\r\n                                      localStorage.setItem(\"preferencias\", resposta.value);\r\n                                      window.location.reload();\r\n                                  }\r\n                                  else{\r\n                                      if(resposta.value == \"gluten\"){\r\n                                          console.log(\"entrou gluten\");\r\n                                          localStorage.setItem(\"preferencias\", resposta.value);\r\n                                          window.location.reload();\r\n                                      }\r\n                                      else{\r\n                                          if(resposta.value == \"ambos\"){\r\n                                              console.log(\"entrou ambos\");\r\n                                              localStorage.setItem(\"preferencias\", resposta.value);\r\n                                              window.location.reload();\r\n                                          }\r\n                                      }\r\n                                  }\r\n                              })\r\n                        }}>Preferências</button>\r\n                        <button onClick={() => {window.location.reload()}}>Recomendações</button>\r\n                    </div>\r\n                    <button onClick={() => {firebase.auth().signOut().then(() => {\r\n                        this.props.history.push(\"/\");\r\n                        }).catch((error) => {\r\n                            Swal.fire({\r\n                                icon: 'error',\r\n                                title: 'Ocorreu algum erro!'\r\n                              })\r\n                        })}}>Sair</button>\r\n                </div>\r\n                <div className=\"container_recomendacao\">\r\n                    {Object.values(Object.values(this.state.recomendar)).map((dado) => {\r\n                        console.log(dado);\r\n                        return <button className=\"card\" onClick={() => this.botao_centralizar(dado.Latitude, dado.Longitude)}>\r\n                            <h1>{dado.Nome}</h1>\r\n                            <p>{dado.Tipo}</p>\r\n                        </button>\r\n                        })\r\n                    }\r\n                </div>\r\n            </div>\r\n        )\r\n    }\r\n}","C:\\Users\\henri\\Documents\\TCC\\Exception\\src\\components\\Home.js",["57","58","59","60","61","62","63","64"],"C:\\Users\\henri\\Documents\\TCC\\Exception\\src\\components\\MapContainer.js",["65","66","67","68","69","70","71","72","73","74","75","76","77"],"import React, {Component} from 'react';\r\nimport { Map, GoogleApiWrapper, Marker, InfoWindow} from 'google-maps-react';\r\nimport firebase from './firestore';\r\nimport Swal from 'sweetalert2';\r\nimport { error } from 'jquery';\r\n\r\n\r\n\r\nexport class MapContainer extends Component {\r\n  constructor(){\r\n    \r\n    super();\r\n    \r\n    this.state = {\r\n      lat: '',\r\n      lng: '',\r\n      rest: [],\r\n      lat: [],\r\n      lng: [],\r\n      pos: [],\r\n      nota:{},\r\n      zoom: 15,\r\n      activeMarker: {},\r\n      selectedPlace: {},\r\n      showingInfoWindow: false\r\n    };\r\n    this.displayMarkers= this.displayMarkers.bind(this);\r\n    this.onMarkerClick= this.onMarkerClick.bind(this);\r\n    this.onInfoWindowClose= this.onInfoWindowClose.bind(this);\r\n    this.onMapClicked= this.onMapClicked.bind(this);\r\n    this.centralizar= this.centralizar.bind(this);\r\n  }\r\n\r\n\r\n\r\n\r\n  onMarkerClick = (props, marker) =>\r\n  this.setState({\r\n    activeMarker: marker,\r\n    selectedPlace: props,\r\n    showingInfoWindow: true\r\n  });\r\n\r\n  onInfoWindowClose = () =>\r\n  this.setState({\r\n    activeMarker: null,\r\n    showingInfoWindow: false\r\n  });\r\n\r\n  onMapClicked = () => {\r\n  if (this.state.showingInfoWindow)\r\n    this.setState({\r\n      activeMarker: null,\r\n      showingInfoWindow: false\r\n    });\r\n};\r\n\r\n  displayMarkers = () => {\r\n    return this.state.pos.map((posit, index) => {\r\n      if(this.state.rest[index].Tipo == \"Restaurante\"){\r\n      return <Marker key={index} id={index} position={posit} icon={\"http://maps.google.com/mapfiles/ms/icons/blue-dot.png\"} title={this.state.rest[index].Nome} onClick={() => {\r\n        console.log(\"foi clicado\");\r\n        Swal.fire({\r\n          title: \"Classifique \"+ this.state.rest[index].Nome+ \"?\",\r\n          icon: \"question\",\r\n          input: 'range',\r\n          inputAttributes: {\r\n            min: 1,\r\n            max: 5,\r\n            step: 1\r\n          },\r\n          inputValue: 3,\r\n          cancelButtonText: 'Classificar',\r\n          cancelButtonColor: '#4CAF50',\r\n        }).then((result) => {\r\n          var aval= Number(result.value);\r\n          if(aval > 0 && aval < 6){\r\n            if(this.state.nota == {}){\r\n              var single= this.state.nota;\r\n              single[this.state.rest[index].Id]= aval;\r\n              this.setState({Nota: single});\r\n              firebase.firestore().collection(\"Users\").doc(firebase.auth().currentUser.uid).set({\r\n                Notas: this.state.nota\r\n              })\r\n            }\r\n            else{\r\n              var single= this.state.nota;\r\n              single[this.state.rest[index].Id] = aval;\r\n              this.setState({nota: single});\r\n              firebase.firestore().collection(\"Users\").doc(firebase.auth().currentUser.uid).set({\r\n                Notas: this.state.nota\r\n              })\r\n            }\r\n          }\r\n        })\r\n        \r\n      }}\r\n      \r\n      >\r\n          \r\n          <InfoWindow marker={this.state.activeMarker} onClose={this.onInfoWindowClose} visible={this.state.showingInfoWindow}>\r\n            <div>\r\n              <h1>{this.state.rest[index].Nome}</h1>\r\n            </div>\r\n          </InfoWindow>\r\n        </Marker>\r\n    }\r\n    else{\r\n      return <Marker key={index} id={index} position={posit} icon={\"http://maps.google.com/mapfiles/ms/icons/purple-dot.png\"} title={this.state.rest[index].Nome} onClick={() => {\r\n        console.log(\"foi clicado\");\r\n        Swal.fire({\r\n          title: \"Classifique \"+ this.state.rest[index].Nome+ \"?\",\r\n          icon: \"question\",\r\n          input: 'range',\r\n          inputAttributes: {\r\n            min: 1,\r\n            max: 5,\r\n            step: 1\r\n          },\r\n          inputValue: 3,\r\n          cancelButtonText: 'Classificar',\r\n          cancelButtonColor: '#4CAF50',\r\n        }).then((result) => {\r\n          var aval= Number(result.value);\r\n          if(aval > 0 && aval < 6){\r\n            if(this.state.nota == {}){\r\n              var single= this.state.nota;\r\n              single[this.state.rest[index].Id]= aval;\r\n              this.setState({Nota: single});\r\n              firebase.firestore().collection(\"Users\").doc(firebase.auth().currentUser.uid).set({\r\n                Notas: this.state.nota\r\n              })\r\n            }\r\n            else{\r\n              var single= this.state.nota;\r\n              single[this.state.rest[index].Id] = aval;\r\n              this.setState({nota: single});\r\n              firebase.firestore().collection(\"Users\").doc(firebase.auth().currentUser.uid).set({\r\n                Notas: this.state.nota\r\n              })\r\n            }\r\n          }\r\n        })\r\n      }}>\r\n          \r\n          <InfoWindow position={posit} marker={this.state.activeMarker} onClose={this.onInfoWindowClose} visible={this.state.showingInfoWindow}>\r\n            <div>\r\n              <h1>{this.state.rest[index].Nome}</h1>\r\n            </div>\r\n          </InfoWindow>\r\n        </Marker>\r\n    }\r\n  })\r\n  }\r\n\r\n  centralizar = () => {\r\n    var options = {\r\n      enableHighAccuracy: true,\r\n      timeout: 5000\r\n    };\r\n    this.setState({zoom: 15});\r\n    if(localStorage.getItem(\"controlador_rec\") == 1){\r\n      this.setState({lat: localStorage.getItem(\"coord_res_lat\")});\r\n      this.setState({lng: localStorage.getItem(\"coord_res_lng\")});\r\n      localStorage.setItem(\"controlador_rec\", 0);\r\n      this.setState({zoom: 18});\r\n    }\r\n    else{\r\n      if(localStorage.getItem(\"controlador_rec\") == 0){\r\n        navigator.geolocation.getCurrentPosition((position) => {\r\n          this.setState({lat: position.coords.latitude});\r\n          this.setState({lng: position.coords.longitude});\r\n          console.log(position);\r\n        }, error, options);\r\n      }\r\n      else{\r\n        console.log(\"entrou\");\r\n        localStorage.setItem(\"controlador_rec\", 0);\r\n      }\r\n    }\r\n  }\r\n\r\n\r\n  componentDidMount(){\r\n    window.addEventListener(\"storage\",(() => {\r\n      console.log(localStorage.getItem(\"busca\"));\r\n    }).bind(this));\r\n    this.centralizar();\r\n    console.log(localStorage.getItem('preferencias'));\r\n    if(localStorage.getItem('preferencias') == \"lactose\"){\r\n    firebase.firestore().collection(\"Restaurantes\").where(\"LactoseFO\" , \"==\", true).get()\r\n    .then(querySnapshot => {\r\n      const data = querySnapshot.docs.map(doc => doc.data());\r\n      this.setState({ rest: data });\r\n      var positions= [];\r\n      for(var i=0; i<data.length; i++){\r\n        var myLatlng = {lat:data[i].Latitude , lng:data[i].Longitude};\r\n        positions.push(myLatlng);\r\n      }\r\n      this.setState({ pos: positions});\r\n      firebase.firestore().collection(\"Users\").doc(firebase.auth().currentUser.uid).get().then((dados) =>{\r\n        if(dados.exists){\r\n          this.setState({nota: dados.data().Notas});\r\n        }\r\n        else{\r\n          this.setState({nota: {} });\r\n        }\r\n      })\r\n      \r\n    });\r\n  }\r\n  else{\r\n    if(localStorage.getItem('preferencias') == \"gluten\"){\r\n      firebase.firestore().collection(\"Restaurantes\").where(\"GlutenFO\" , \"==\", true)\r\n      .get()\r\n      .then(querySnapshot => {\r\n        const data = querySnapshot.docs.map(doc => doc.data());\r\n        this.setState({ rest: data });\r\n        var positions= [];\r\n        for(var i=0; i<data.length; i++){\r\n          var myLatlng = {lat:data[i].Latitude , lng:data[i].Longitude};\r\n          positions.push(myLatlng);\r\n        }\r\n        this.setState({ pos: positions});\r\n        firebase.firestore().collection(\"Users\").doc(firebase.auth().currentUser.uid).get().then((dados) =>{\r\n          if(dados.exists){\r\n            this.setState({nota: dados.data().Notas});\r\n          }\r\n          else{\r\n            this.setState({nota: {} });\r\n          }\r\n        })\r\n        \r\n      });\r\n    }\r\n    else{\r\n      if(localStorage.getItem('preferencias') == \"ambos\"){\r\n        firebase.firestore().collection(\"Restaurantes\").where(\"Id\" , \">=\", 0)\r\n        .get()\r\n        .then(querySnapshot => {\r\n          const data = querySnapshot.docs.map(doc => doc.data());\r\n          this.setState({ rest: data });\r\n          var positions= [];\r\n          for(var i=0; i<data.length; i++){\r\n            var myLatlng = {lat:data[i].Latitude , lng:data[i].Longitude};\r\n            positions.push(myLatlng);\r\n          }\r\n          this.setState({ pos: positions});\r\n          firebase.firestore().collection(\"Users\").doc(firebase.auth().currentUser.uid).get().then((dados) =>{\r\n            if(dados.exists){\r\n              this.setState({nota: dados.data().Notas});\r\n            }\r\n            else{\r\n              this.setState({nota: {} });\r\n            }\r\n          })\r\n          \r\n        });\r\n      }\r\n    }\r\n  } \r\n  }\r\n\r\n  render() {\r\n    const styleMap= {\r\n      width: \"100%\",\r\n      height: \"92%\",\r\n    };\r\n    const position= { lat: this.state.lat, lng: this.state.lng };\r\n    const zoom= this.state.zoom;\r\n    return (\r\n      <Map\r\n        google={this.props.google}\r\n        zoom={zoom}\r\n        style={styleMap}\r\n        onClick={this.onMapClicked}\r\n        initialCenter={position}\r\n        center={position}\r\n      >\r\n      {this.displayMarkers()}\r\n      </Map>\r\n\r\n    );\r\n  }\r\n}\r\n\r\nexport default GoogleApiWrapper(\r\n  (props) => ({\r\n    apiKey: 'AIzaSyC_3wQ-jMGOLXB_DJxQiJHmD-hZCLOD3_g',\r\n  }\r\n))(MapContainer)","C:\\Users\\henri\\Documents\\TCC\\Exception\\src\\components\\Auth.js",[],"C:\\Users\\henri\\Documents\\TCC\\Exception\\src\\components\\firestore.js",[],{"ruleId":"78","replacedBy":"79"},{"ruleId":"80","replacedBy":"81"},{"ruleId":"82","severity":1,"message":"83","line":8,"column":1,"nodeType":"84","endLine":137,"endColumn":2},{"ruleId":"85","severity":1,"message":"86","line":51,"column":13,"nodeType":"87","messageId":"88","endLine":71,"endColumn":14},{"ruleId":"89","severity":1,"message":"90","line":58,"column":17,"nodeType":"91","messageId":"92","endLine":58,"endColumn":43},{"ruleId":"89","severity":1,"message":"90","line":65,"column":17,"nodeType":"91","messageId":"92","endLine":70,"endColumn":25},{"ruleId":"85","severity":1,"message":"86","line":89,"column":13,"nodeType":"87","messageId":"88","endLine":103,"endColumn":14},{"ruleId":"89","severity":1,"message":"90","line":96,"column":17,"nodeType":"91","messageId":"92","endLine":101,"endColumn":25},{"ruleId":"89","severity":1,"message":"90","line":102,"column":17,"nodeType":"91","messageId":"92","endLine":102,"endColumn":43},{"ruleId":"93","severity":1,"message":"94","line":36,"column":13,"nodeType":"95","messageId":"96","endLine":36,"endColumn":17},{"ruleId":"93","severity":1,"message":"94","line":37,"column":16,"nodeType":"95","messageId":"96","endLine":37,"endColumn":20},{"ruleId":"93","severity":1,"message":"94","line":38,"column":27,"nodeType":"95","messageId":"96","endLine":38,"endColumn":31},{"ruleId":"97","severity":1,"message":"98","line":43,"column":26,"nodeType":"99","messageId":"100","endLine":43,"endColumn":28},{"ruleId":"97","severity":1,"message":"98","line":71,"column":24,"nodeType":"99","messageId":"100","endLine":71,"endColumn":26},{"ruleId":"97","severity":1,"message":"101","line":83,"column":23,"nodeType":"99","messageId":"100","endLine":83,"endColumn":25},{"ruleId":"97","severity":1,"message":"98","line":123,"column":67,"nodeType":"99","messageId":"100","endLine":123,"endColumn":69},{"ruleId":"102","severity":1,"message":"103","line":140,"column":17,"nodeType":"95","messageId":"104","endLine":140,"endColumn":21},{"ruleId":"97","severity":1,"message":"98","line":160,"column":49,"nodeType":"99","messageId":"100","endLine":160,"endColumn":51},{"ruleId":"97","severity":1,"message":"98","line":172,"column":53,"nodeType":"99","messageId":"100","endLine":172,"endColumn":55},{"ruleId":"97","severity":1,"message":"98","line":184,"column":57,"nodeType":"99","messageId":"100","endLine":184,"endColumn":59},{"ruleId":"97","severity":1,"message":"98","line":264,"column":53,"nodeType":"99","messageId":"100","endLine":264,"endColumn":55},{"ruleId":"97","severity":1,"message":"98","line":270,"column":57,"nodeType":"99","messageId":"100","endLine":270,"endColumn":59},{"ruleId":"97","severity":1,"message":"98","line":276,"column":61,"nodeType":"99","messageId":"100","endLine":276,"endColumn":63},{"ruleId":"97","severity":1,"message":"98","line":56,"column":49,"nodeType":"99","messageId":"100","endLine":56,"endColumn":51},{"ruleId":"105","severity":1,"message":"106","line":60,"column":21,"nodeType":"107","messageId":"108","endLine":63,"endColumn":22},{"ruleId":"97","severity":1,"message":"98","line":71,"column":57,"nodeType":"99","messageId":"100","endLine":71,"endColumn":59},{"ruleId":"97","severity":1,"message":"98","line":83,"column":61,"nodeType":"99","messageId":"100","endLine":83,"endColumn":63},{"ruleId":"97","severity":1,"message":"98","line":121,"column":53,"nodeType":"99","messageId":"100","endLine":121,"endColumn":55},{"ruleId":"97","severity":1,"message":"98","line":127,"column":57,"nodeType":"99","messageId":"100","endLine":127,"endColumn":59},{"ruleId":"97","severity":1,"message":"98","line":133,"column":61,"nodeType":"99","messageId":"100","endLine":133,"endColumn":63},{"ruleId":"109","severity":1,"message":"110","line":158,"column":29,"nodeType":"111","endLine":158,"endColumn":62},{"ruleId":"112","severity":1,"message":"113","line":18,"column":7,"nodeType":"114","messageId":"100","endLine":18,"endColumn":10},{"ruleId":"112","severity":1,"message":"115","line":19,"column":7,"nodeType":"114","messageId":"100","endLine":19,"endColumn":10},{"ruleId":"97","severity":1,"message":"98","line":60,"column":38,"nodeType":"99","messageId":"100","endLine":60,"endColumn":40},{"ruleId":"97","severity":1,"message":"98","line":78,"column":32,"nodeType":"99","messageId":"100","endLine":78,"endColumn":34},{"ruleId":"102","severity":1,"message":"116","line":87,"column":19,"nodeType":"95","messageId":"104","endLine":87,"endColumn":25},{"ruleId":"97","severity":1,"message":"98","line":126,"column":32,"nodeType":"99","messageId":"100","endLine":126,"endColumn":34},{"ruleId":"102","severity":1,"message":"116","line":135,"column":19,"nodeType":"95","messageId":"104","endLine":135,"endColumn":25},{"ruleId":"97","severity":1,"message":"98","line":162,"column":48,"nodeType":"99","messageId":"100","endLine":162,"endColumn":50},{"ruleId":"97","severity":1,"message":"98","line":169,"column":50,"nodeType":"99","messageId":"100","endLine":169,"endColumn":52},{"ruleId":"117","severity":1,"message":"118","line":187,"column":8,"nodeType":"119","messageId":"100","endLine":187,"endColumn":12,"fix":"120"},{"ruleId":"97","severity":1,"message":"98","line":190,"column":45,"nodeType":"99","messageId":"100","endLine":190,"endColumn":47},{"ruleId":"97","severity":1,"message":"98","line":213,"column":45,"nodeType":"99","messageId":"100","endLine":213,"endColumn":47},{"ruleId":"97","severity":1,"message":"98","line":237,"column":47,"nodeType":"99","messageId":"100","endLine":237,"endColumn":49},"no-native-reassign",["121"],"no-negated-in-lhs",["122"],"import/no-anonymous-default-export","Unexpected default export of anonymous class","ExportDefaultDeclaration","default-case","Expected a default case.","SwitchStatement","missingDefaultCase","no-fallthrough","Expected a 'break' statement before 'case'.","SwitchCase","case","no-use-before-define","'item' was used before it was defined.","Identifier","usedBeforeDefined","eqeqeq","Expected '===' and instead saw '=='.","BinaryExpression","unexpected","Expected '!==' and instead saw '!='.","no-redeclare","'item' is already defined.","redeclared","no-lone-blocks","Nested block is redundant.","BlockStatement","redundantNestedBlock","react/jsx-no-duplicate-props","No duplicate props allowed","JSXAttribute","no-dupe-keys","Duplicate key 'lat'.","ObjectExpression","Duplicate key 'lng'.","'single' is already defined.","no-extra-bind","The function binding is unnecessary.","CallExpression",{"range":"123","text":"124"},"no-global-assign","no-unsafe-negation",[5894,5905],""]